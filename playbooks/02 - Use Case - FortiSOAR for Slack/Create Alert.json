{
    "@type": "Workflow",
    "triggerLimit": null,
    "name": "Create Alert",
    "aliasName": null,
    "tag": null,
    "description": "Gets triggered on createAlert command when used in slack",
    "isActive": true,
    "debug": false,
    "singleRecordExecution": false,
    "remoteExecutableFlag": false,
    "parameters": [],
    "synchronous": false,
    "collection": "\/api\/3\/workflow_collections\/49291f43-e8a1-4f63-80b5-d88e05044a4a",
    "versions": [],
    "triggerStep": "\/api\/3\/workflow_steps\/f72c5b28-2cbb-4593-af83-5c2c44bc599d",
    "steps": [
        {
            "@type": "WorkflowStep",
            "name": "Response Step",
            "description": null,
            "arguments": {
                "name": "Slack",
                "config": "633e8bd0-a5d0-48a0-addd-2bc7174b9ceb",
                "params": {
                    "blocks": "{{vars.bot_response}}",
                    "channel": "{{vars.bot_context.user_id}}",
                    "message": "Block Response",
                    "thread_ts": "",
                    "attachments": ""
                },
                "version": "3.0.0",
                "connector": "slack",
                "operation": "send_message",
                "operationTitle": "Send Message",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "840",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "03650085-0a31-4500-a7f5-6836cc1362d0"
        },
        {
            "@type": "WorkflowStep",
            "name": "Check Alert Form Empty",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "step_iri": "\/api\/3\/workflow_steps\/8b152f36-c11c-41c3-b528-6cae74ee7957",
                        "condition": "{{ vars.steps.Alert_Manual_Input_Form.input.alertName | string | length > 0 }}",
                        "step_name": "Create Alert Record"
                    },
                    {
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/fdde6fd3-80bf-4796-b174-7f1dda1a6de6",
                        "step_name": "Alert Form Empty"
                    }
                ]
            },
            "status": null,
            "top": "435",
            "left": "650",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "461dff78-7b5f-4516-b2a2-cd377768791a"
        },
        {
            "@type": "WorkflowStep",
            "name": "Cancel",
            "description": null,
            "arguments": {
                "bot_response": "[\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"Alert creation cancelled!\"\n\t\t\t}\n\t\t}\n\t]"
            },
            "status": null,
            "top": "705",
            "left": "125",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "4c37abd7-e237-4ecb-a09a-822cf793ff1b"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create Alert Record",
            "description": null,
            "arguments": {
                "resource": {
                    "name": "{{vars.steps.Alert_Manual_Input_Form.input.alertName}}",
                    "type": "\/api\/3\/picklists\/574a6ee2-7265-4701-815e-cff83b053bce",
                    "state": "\/api\/3\/picklists\/a1bac09b-1441-45aa-ad1b-c88744e48e72",
                    "status": "\/api\/3\/picklists\/7de816ff-7140-4ee5-bd05-93ce22002146",
                    "severity": "\/api\/3\/picklists\/58d0753f-f7e4-403b-953c-b0f521eab759",
                    "__replace": "",
                    "description": "{{vars.steps.Alert_Manual_Input_Form.input.alertDescription}}",
                    "ackSlaStatus": "\/api\/3\/picklists\/72979f64-e8b9-4888-a965-957e0ec24818",
                    "respSlaStatus": "\/api\/3\/picklists\/72979f64-e8b9-4888-a965-957e0ec24818",
                    "priorityWeight": 1,
                    "escalatedtoincident": "\/api\/3\/picklists\/2128a09c-153d-4db3-985d-de6be33deae5",
                    "alertRemainingAckSLA": 0
                },
                "_showJson": false,
                "operation": "Overwrite",
                "collection": "\/api\/3\/alerts",
                "__recommend": [],
                "fieldOperation": [],
                "step_variables": []
            },
            "status": null,
            "top": "570",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/2597053c-e718-44b4-8394-4d40fe26d357",
            "group": null,
            "uuid": "8b152f36-c11c-41c3-b528-6cae74ee7957"
        },
        {
            "@type": "WorkflowStep",
            "name": "Configurations",
            "description": null,
            "arguments": {
                "user_id": "{{vars.bot_context.user_id}}"
            },
            "status": null,
            "top": "165",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "9a6f0427-e3ab-4bad-9e91-4a25116a0381"
        },
        {
            "@type": "WorkflowStep",
            "name": "Alert Manual Input Form",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "Create Alert",
                        "description": "Creates an alert based on the inputs given in the following fields.\nAlert Name cannot be blank. ",
                        "inputVariables": [
                            {
                                "name": "alertName",
                                "type": "string",
                                "label": "Alert Name",
                                "tooltip": "",
                                "dataType": "text",
                                "formType": "text",
                                "required": true,
                                "_expanded": true,
                                "defaultValue": null,
                                "_previousName": "alert",
                                "useRecordFieldDefault": false
                            },
                            {
                                "name": "alertDescription",
                                "type": "string",
                                "label": "Alert Description",
                                "tooltip": "",
                                "dataType": "text",
                                "formType": "text",
                                "required": false,
                                "_expanded": true,
                                "defaultValue": null,
                                "_previousName": "a",
                                "useRecordFieldDefault": false
                            }
                        ]
                    }
                },
                "record": "",
                "agent_id": null,
                "owner_detail": {
                    "isAssigned": false,
                    "emailRecipients": "",
                    "assignedToRecord": false,
                    "externalRecipients": "{{vars.user_id}}"
                },
                "isRecordLinked": false,
                "step_variables": [],
                "response_mapping": {
                    "options": [
                        {
                            "option": "Create Alert",
                            "step_iri": "\/api\/3\/workflow_steps\/461dff78-7b5f-4516-b2a2-cd377768791a"
                        },
                        {
                            "option": "Cancel",
                            "step_iri": "\/api\/3\/workflow_steps\/4c37abd7-e237-4ecb-a09a-822cf793ff1b"
                        }
                    ],
                    "duplicateOption": false
                },
                "inputExternalUser": false,
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                },
                "inputInternalUsers": true,
                "inline_channel_list": [
                    "\/api\/3\/picklists\/afb18b7f-510b-471a-9b9c-7f4646edd4ee"
                ],
                "external_channel_list": [],
                "unauthenticated_input": true
            },
            "status": null,
            "top": "300",
            "left": "480",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": null,
            "uuid": "b0c72f39-09d3-47e0-9a63-e0144fa4e5d3"
        },
        {
            "@type": "WorkflowStep",
            "name": "Response",
            "description": null,
            "arguments": {
                "bot_response": "[\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"Done! Alert '{{vars.steps.Alert_Manual_Input_Form.input.alertName}}' successfully created. <https:\/\/{{globalVars.Server_fqhn}}\/modules\/alerts\/{{vars.steps.Create_Alert_Record.uuid}} | View Alert>\"\n\t\t\t}\n\t\t}\n\t]"
            },
            "status": null,
            "top": "705",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "ce42536b-92c9-4f0e-81ce-25653bf9e1f5"
        },
        {
            "@type": "WorkflowStep",
            "name": "Start",
            "description": null,
            "arguments": {
                "step_variables": {
                    "input": {
                        "params": []
                    }
                }
            },
            "status": null,
            "top": "30",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/b348f017-9a94-471f-87f8-ce88b6a7ad62",
            "group": null,
            "uuid": "f72c5b28-2cbb-4593-af83-5c2c44bc599d"
        },
        {
            "@type": "WorkflowStep",
            "name": "Alert Form Empty",
            "description": null,
            "arguments": {
                "bot_response": "[\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"Alert name field should not be empty\"\n\t\t\t}\n\t\t}\n\t]"
            },
            "status": null,
            "top": "705",
            "left": "825",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "fdde6fd3-80bf-4796-b174-7f1dda1a6de6"
        }
    ],
    "routes": [
        {
            "@type": "WorkflowRoute",
            "name": "Create Alert Record -> Response",
            "targetStep": "\/api\/3\/workflow_steps\/ce42536b-92c9-4f0e-81ce-25653bf9e1f5",
            "sourceStep": "\/api\/3\/workflow_steps\/8b152f36-c11c-41c3-b528-6cae74ee7957",
            "label": null,
            "isExecuted": false,
            "uuid": "0c0eed9c-d412-494b-8354-37b5dfcf3811"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Cancel -> Response Step",
            "targetStep": "\/api\/3\/workflow_steps\/03650085-0a31-4500-a7f5-6836cc1362d0",
            "sourceStep": "\/api\/3\/workflow_steps\/4c37abd7-e237-4ecb-a09a-822cf793ff1b",
            "label": null,
            "isExecuted": false,
            "uuid": "48cb50bd-097e-4525-818a-d1d935bf0867"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Alert Manual Input Form -> Cancel",
            "targetStep": "\/api\/3\/workflow_steps\/4c37abd7-e237-4ecb-a09a-822cf793ff1b",
            "sourceStep": "\/api\/3\/workflow_steps\/b0c72f39-09d3-47e0-9a63-e0144fa4e5d3",
            "label": "Cancel",
            "isExecuted": false,
            "uuid": "4c4d3699-ca0b-4c6a-9de5-895d2fb4cd2f"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Alert Manual Input Form -> Check Alert Form Empty",
            "targetStep": "\/api\/3\/workflow_steps\/461dff78-7b5f-4516-b2a2-cd377768791a",
            "sourceStep": "\/api\/3\/workflow_steps\/b0c72f39-09d3-47e0-9a63-e0144fa4e5d3",
            "label": "Create Alert",
            "isExecuted": false,
            "uuid": "62c825f7-18da-446c-9e4e-47b4a545330a"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Check Alert Form Empty -> Alert Form Empty",
            "targetStep": "\/api\/3\/workflow_steps\/fdde6fd3-80bf-4796-b174-7f1dda1a6de6",
            "sourceStep": "\/api\/3\/workflow_steps\/461dff78-7b5f-4516-b2a2-cd377768791a",
            "label": null,
            "isExecuted": false,
            "uuid": "682216ce-cd75-450b-ae14-7ad210b9bb51"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Configurations -> Alert Manual Input Form",
            "targetStep": "\/api\/3\/workflow_steps\/b0c72f39-09d3-47e0-9a63-e0144fa4e5d3",
            "sourceStep": "\/api\/3\/workflow_steps\/9a6f0427-e3ab-4bad-9e91-4a25116a0381",
            "label": null,
            "isExecuted": false,
            "uuid": "88feb12f-f721-41d2-bdd2-53c26a8a8625"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Check Alert Form Empty -> Create Alert Record",
            "targetStep": "\/api\/3\/workflow_steps\/8b152f36-c11c-41c3-b528-6cae74ee7957",
            "sourceStep": "\/api\/3\/workflow_steps\/461dff78-7b5f-4516-b2a2-cd377768791a",
            "label": null,
            "isExecuted": false,
            "uuid": "a1449a67-b7be-4717-9ada-ea1dc5b44b68"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Response -> Response Step",
            "targetStep": "\/api\/3\/workflow_steps\/03650085-0a31-4500-a7f5-6836cc1362d0",
            "sourceStep": "\/api\/3\/workflow_steps\/ce42536b-92c9-4f0e-81ce-25653bf9e1f5",
            "label": null,
            "isExecuted": false,
            "uuid": "ac8eebd8-ef50-49a4-b7a2-a84739d90c7e"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Start -> Configurations",
            "targetStep": "\/api\/3\/workflow_steps\/9a6f0427-e3ab-4bad-9e91-4a25116a0381",
            "sourceStep": "\/api\/3\/workflow_steps\/f72c5b28-2cbb-4593-af83-5c2c44bc599d",
            "label": null,
            "isExecuted": false,
            "uuid": "b46ff685-cd8f-4ad0-a75f-528136e69f4a"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Alert Form Empty -> Response Step",
            "targetStep": "\/api\/3\/workflow_steps\/03650085-0a31-4500-a7f5-6836cc1362d0",
            "sourceStep": "\/api\/3\/workflow_steps\/fdde6fd3-80bf-4796-b174-7f1dda1a6de6",
            "label": null,
            "isExecuted": false,
            "uuid": "b93d36dc-b93d-447e-a555-04309a7b9283"
        }
    ],
    "groups": [],
    "priority": "\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2",
    "uuid": "3000988f-2291-4d31-b449-6a5200e2a42f",
    "owners": [],
    "isPrivate": false,
    "deletedAt": null,
    "recordTags": [
        "bot_enabled",
        "createAlert"
    ]
}